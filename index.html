<html>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"> </script>
<head></head>
<body>
<p>Architectural Style Classifier 4</p>
 <p>Click on the "Choose File" button to upload a file:</p>

<form action="/action_page.php">
  <input type="file" id="myFile" name="filename">
  <input type="submit">
</form>
<script type="text/javascript">
function submitform()
{
    if(document.myFile.onsubmit &&
    !document.myFile.onsubmit())
    {
        return;
    }
 document.myform.submit();
}
</script>
<img id="myFile" height="300" width="300"></img>
</body>
<script>
async function run(){
  const image = tf.browser.fromPixels(imgcanvas);
  const resized_image =
       tf.image.resizeBilinear(image, [300,300]).toFloat();
  const offset = tf.scalar(255.0);
  const normalized = tf.scalar(1.0).sub(resized_image.div(offset));
  const batchedImage = normalized.expandDims(0);
  const MODEL_URL = 'web_model/model.json';
  const model = await tf.loadLayersModel(MODEL_URL);
  const result = model.predict(batchedImage);
  result.print();

}
run();
</script>
</html>
